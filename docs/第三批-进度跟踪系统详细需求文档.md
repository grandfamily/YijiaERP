# ä¸€å®¶ç™¾è´§é‡‡è´­ç®¡ç†ç³»ç»Ÿ - ç¬¬ä¸‰æ‰¹ï¼šè¿›åº¦è·Ÿè¸ªç³»ç»Ÿè¯¦ç»†éœ€æ±‚æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **ç¼–å†™æ—¥æœŸ**: 2025å¹´8æœˆ11æ—¥
- **é€‚ç”¨èŒƒå›´**: è¿›åº¦è·Ÿè¸ªå’Œç›‘æ§æ¨¡å—
- **ä¾èµ–å…³ç³»**: ç¬¬ä¸€æ‰¹åŸºç¡€æ¶æ„æ¨¡å—ã€ç¬¬äºŒæ‰¹é‡‡è´­æ ¸å¿ƒæµç¨‹æ¨¡å—

---

## ğŸ“ˆ 1. é‡‡è´­è¿›åº¦ç®¡ç† (`purchase-progress/`)

### 1.1 æ¨¡å—æ¦‚è¿°
é‡‡è´­è¿›åº¦ç®¡ç†æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒç›‘æ§æ¨¡å—ï¼Œæä¾›é‡‡è´­ç”³è¯·ä»å®¡æ‰¹åˆ°æ”¶è´§çš„å…¨æµç¨‹è·Ÿè¸ªï¼ŒåŒ…æ‹¬ä¸åˆæ ¼è®¢å•çš„å¤„ç†æµç¨‹ã€‚

### 1.2 ç»„ä»¶æ¶æ„

#### 1.2.1 PurchaseProgress ä¸»ç»„ä»¶
```typescript
// src/components/purchase-progress/PurchaseProgress.tsx
interface PurchaseProgressProps {
  filters?: ProgressFilters;
}

interface ProgressFilters {
  status?: OrderStatus[];
  dateRange?: DateRange;
  supplier?: string;
  priority?: RequestPriority[];
  searchTerm?: string;
}

interface TabData {
  key: string;
  label: string;
  count: number;
  color: string;
}

const PurchaseProgress: React.FC<PurchaseProgressProps> = ({ filters }) => {
  const [activeTab, setActiveTab] = useState<string>('all');
  const [progressData, setProgressData] = useState<ProcurementProgress[]>([]);
  const [rejectedOrders, setRejectedOrders] = useState<RejectedOrder[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [selectedOrders, setSelectedOrders] = useState<string[]>([]);

  // å…¨å±€çŠ¶æ€
  const globalProgress = useProcurementProgress();
  const globalRejectedOrders = useRejectedOrders();
  const { updateProcurementProgress, updateRejectedOrder } = useGlobalStore();

  // ç›‘å¬å…¨å±€çŠ¶æ€å˜åŒ–
  useEffect(() => {
    setProgressData(globalProgress);
    setRejectedOrders(globalRejectedOrders);
    setIsLoading(false);
  }, [globalProgress, globalRejectedOrders]);

  // ç›‘å¬ä¸åˆæ ¼è®¢å•äº‹ä»¶
  useEffect(() => {
    const handleRejectedOrderEvent = (event: CustomEvent<RejectedOrder>) => {
      console.log('ğŸ¯ é‡‡è´­è¿›åº¦é¡µé¢æ”¶åˆ°ä¸åˆæ ¼è®¢å•äº‹ä»¶:', event.detail);
      
      // æ·»åŠ åˆ°ä¸åˆæ ¼è®¢å•åˆ—è¡¨
      const newOrder = event.detail;
      setRejectedOrders(prev => {
        const exists = prev.some(order => 
          order.purchaseRequestId === newOrder.purchaseRequestId && 
          order.skuId === newOrder.skuId
        );
        
        if (!exists) {
          const updated = [...prev, newOrder];
          // æŒä¹…åŒ–åˆ°localStorage
          try {
            localStorage.setItem('rejectedOrders', JSON.stringify(updated));
          } catch (error) {
            console.error('Failed to persist rejected orders:', error);
          }
          return updated;
        }
        return prev;
      });

      // è‡ªåŠ¨åˆ‡æ¢åˆ°ä¸åˆæ ¼è®¢å•æ ‡ç­¾é¡µ
      setActiveTab('rejected');
      
      // æ˜¾ç¤ºé€šçŸ¥
      toast.warning(`æ”¶åˆ°ä¸åˆæ ¼è®¢å•ï¼š${newOrder.sku?.name || 'æœªçŸ¥äº§å“'}`, {
        duration: 5000,
        action: {
          label: 'æŸ¥çœ‹è¯¦æƒ…',
          onClick: () => setActiveTab('rejected')
        }
      });
    };

    // ç›‘å¬ä¸åˆæ ¼è®¢å•äº‹ä»¶
    window.addEventListener('rejectedOrderAdded', handleRejectedOrderEvent as EventListener);

    // é¡µé¢åŠ è½½æ—¶ä»localStorageæ¢å¤æ•°æ®
    try {
      const storedRejectedOrders = localStorage.getItem('rejectedOrders');
      if (storedRejectedOrders) {
        const orders = JSON.parse(storedRejectedOrders);
        setRejectedOrders(orders);
        console.log('ğŸ“¦ ä»localStorageæ¢å¤ä¸åˆæ ¼è®¢å•æ•°æ®:', orders.length, 'æ¡');
      }
    } catch (error) {
      console.error('Failed to restore rejected orders from localStorage:', error);
    }

    return () => {
      window.removeEventListener('rejectedOrderAdded', handleRejectedOrderEvent as EventListener);
    };
  }, []);

  // è®¡ç®—æ ‡ç­¾é¡µæ•°æ®
  const tabData: TabData[] = useMemo(() => {
    const allCount = progressData.length;
    const pendingCount = progressData.filter(p => p.status === 'pending').length;
    const inProgressCount = progressData.filter(p => 
      ['allocated', 'in_production', 'quality_check'].includes(p.status)
    ).length;
    const completedCount = progressData.filter(p => p.status === 'completed').length;
    const rejectedCount = rejectedOrders.length;

    return [
      { key: 'all', label: 'å…¨éƒ¨è®¢å•', count: allCount, color: 'blue' },
      { key: 'pending', label: 'å¾…å¤„ç†', count: pendingCount, color: 'yellow' },
      { key: 'in_progress', label: 'è¿›è¡Œä¸­', count: inProgressCount, color: 'blue' },
      { key: 'completed', label: 'å·²å®Œæˆ', count: completedCount, color: 'green' },
      { key: 'rejected', label: 'ä¸åˆæ ¼è®¢å•', count: rejectedCount, color: 'red' }
    ];
  }, [progressData, rejectedOrders]);

  // æ ¹æ®å½“å‰æ ‡ç­¾é¡µè¿‡æ»¤æ•°æ®
  const filteredData = useMemo(() => {
    let filtered = [...progressData];

    switch (activeTab) {
      case 'pending':
        filtered = filtered.filter(p => p.status === 'pending');
        break;
      case 'in_progress':
        filtered = filtered.filter(p => 
          ['allocated', 'in_production', 'quality_check'].includes(p.status)
        );
        break;
      case 'completed':
        filtered = filtered.filter(p => p.status === 'completed');
        break;
      case 'rejected':
        // ä¸åˆæ ¼è®¢å•æ ‡ç­¾é¡µè¿”å›ç©ºæ•°ç»„ï¼Œå› ä¸ºæ˜¾ç¤ºçš„æ˜¯rejectedOrders
        return [];
      default:
        // 'all' æ ‡ç­¾é¡µæ˜¾ç¤ºæ‰€æœ‰æ•°æ®
        break;
    }

    // åº”ç”¨é¢å¤–çš„ç­›é€‰æ¡ä»¶
    if (filters) {
      if (filters.status && filters.status.length > 0) {
        filtered = filtered.filter(p => filters.status!.includes(p.status));
      }
      
      if (filters.searchTerm) {
        const searchLower = filters.searchTerm.toLowerCase();
        filtered = filtered.filter(p =>
          p.purchaseRequestNumber.toLowerCase().includes(searchLower) ||
          p.items?.some(item => 
            item.sku?.name?.toLowerCase().includes(searchLower) ||
            item.sku?.code?.toLowerCase().includes(searchLower)
          )
        );
      }
    }

    return filtered;
  }, [progressData, rejectedOrders, activeTab, filters]);

  // å¤„ç†ä¸åˆæ ¼è®¢å•çš„é‡æ–°æ£€éªŒ
  const handleReinspection = async (orderId: string) => {
    try {
      const order = rejectedOrders.find(o => o.id === orderId);
      if (!order) return;

      // æ›´æ–°è®¢å•çŠ¶æ€ä¸ºé‡æ–°æ£€éªŒä¸­
      const updatedOrder = {
        ...order,
        status: 'reinspection' as RejectedOrderStatus,
        reinspectionDate: new Date(),
        updatedAt: new Date()
      };

      updateRejectedOrder(orderId, updatedOrder);
      
      toast.success('å·²å®‰æ’é‡æ–°æ£€éªŒ');
    } catch (error) {
      console.error('Failed to arrange reinspection:', error);
      toast.error('å®‰æ’é‡æ–°æ£€éªŒå¤±è´¥');
    }
  };

  // å¤„ç†ä¸åˆæ ¼è®¢å•çš„é€€è´§
  const handleReturn = async (orderId: string, returnReason: string) => {
    try {
      const order = rejectedOrders.find(o => o.id === orderId);
      if (!order) return;

      // æ›´æ–°è®¢å•çŠ¶æ€ä¸ºå·²é€€è´§
      const updatedOrder = {
        ...order,
        status: 'returned' as RejectedOrderStatus,
        returnReason,
        returnDate: new Date(),
        updatedAt: new Date()
      };

      updateRejectedOrder(orderId, updatedOrder);
      
      toast.success('é€€è´§å¤„ç†å®Œæˆ');
    } catch (error) {
      console.error('Failed to process return:', error);
      toast.error('é€€è´§å¤„ç†å¤±è´¥');
    }
  };

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gray-50 flex items-center justify-center">
        <div className="animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      {/* é¡µé¢æ ‡é¢˜ */}
      <div className="bg-white shadow">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="py-6">
            <div className="flex items-center justify-between">
              <div>
                <h1 className="text-3xl font-bold text-gray-900">é‡‡è´­è¿›åº¦ç®¡ç†</h1>
                <p className="mt-1 text-sm text-gray-500">
                  è·Ÿè¸ªå’Œç®¡ç†é‡‡è´­è®¢å•çš„æ‰§è¡Œè¿›åº¦
                </p>
              </div>
              
              {/* å¿«é€Ÿæ“ä½œæŒ‰é’® */}
              <div className="flex items-center space-x-4">
                <button
                  onClick={() => window.location.reload()}
                  className="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                >
                  <RefreshIcon className="h-4 w-4 mr-2" />
                  åˆ·æ–°
                </button>
                
                <button
                  onClick={() => {/* å¯¼å‡ºé€»è¾‘ */}}
                  className="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                >
                  <DownloadIcon className="h-4 w-4 mr-2" />
                  å¯¼å‡ºæŠ¥è¡¨
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* ä¸»è¦å†…å®¹åŒºåŸŸ */}
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        {/* æ ‡ç­¾é¡µå¯¼èˆª */}
        <div className="bg-white shadow rounded-lg mb-6">
          <div className="border-b border-gray-200">
            <nav className="-mb-px flex space-x-8 px-6" aria-label="Tabs">
              {tabData.map((tab) => (
                <button
                  key={tab.key}
                  onClick={() => setActiveTab(tab.key)}
                  className={`
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                    ${activeTab === tab.key
                      ? 'border-blue-500 text-blue-600'
                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                    }
                  `}
                >
                  {tab.label}
                  <span className={`
                    ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                    ${activeTab === tab.key
                      ? `bg-blue-100 text-blue-800`
                      : 'bg-gray-100 text-gray-800'
                    }
                  `}>
                    {tab.count}
                  </span>
                </button>
              ))}
            </nav>
          </div>
        </div>

        {/* å†…å®¹åŒºåŸŸ */}
        <div className="bg-white shadow rounded-lg">
          {activeTab === 'rejected' ? (
            // ä¸åˆæ ¼è®¢å•åˆ—è¡¨
            <RejectedOrdersList
              orders={rejectedOrders}
              onReinspection={handleReinspection}
              onReturn={handleReturn}
              selectedOrders={selectedOrders}
              onSelectionChange={setSelectedOrders}
            />
          ) : (
            // æ­£å¸¸é‡‡è´­è¿›åº¦åˆ—è¡¨
            <ProgressList
              data={filteredData}
              activeTab={activeTab}
              selectedOrders={selectedOrders}
              onSelectionChange={setSelectedOrders}
              onStatusUpdate={(id, status) => {
                updateProcurementProgress(id, { status, updatedAt: new Date() });
              }}
            />
          )}
        </div>

        {/* æ‰¹é‡æ“ä½œé¢æ¿ */}
        {selectedOrders.length > 0 && (
          <BatchOperationPanel
            selectedCount={selectedOrders.length}
            activeTab={activeTab}
            onClearSelection={() => setSelectedOrders([])}
            onBatchUpdate={(updates) => {
              // å®ç°æ‰¹é‡æ›´æ–°é€»è¾‘
              selectedOrders.forEach(id => {
                if (activeTab === 'rejected') {
                  updateRejectedOrder(id, updates);
                } else {
                  updateProcurementProgress(id, updates);
                }
              });
              setSelectedOrders([]);
            }}
          />
        )}
      </div>
    </div>
  );
};

export default PurchaseProgress;
```

#### 1.2.2 RejectedOrdersList ä¸åˆæ ¼è®¢å•åˆ—è¡¨ç»„ä»¶
```typescript
// src/components/purchase-progress/RejectedOrdersList.tsx
interface RejectedOrdersListProps {
  orders: RejectedOrder[];
  onReinspection: (orderId: string) => void;
  onReturn: (orderId: string, reason: string) => void;
  selectedOrders: string[];
  onSelectionChange: (selected: string[]) => void;
}

const RejectedOrdersList: React.FC<RejectedOrdersListProps> = ({
  orders,
  onReinspection,
  onReturn,
  selectedOrders,
  onSelectionChange
}) => {
  const [showReturnModal, setShowReturnModal] = useState<string | null>(null);
  const [returnReason, setReturnReason] = useState('');

  const handleSelectOrder = (orderId: string, isSelected: boolean) => {
    if (isSelected) {
      onSelectionChange([...selectedOrders, orderId]);
    } else {
      onSelectionChange(selectedOrders.filter(id => id !== orderId));
    }
  };

  const handleSelectAll = (isSelected: boolean) => {
    if (isSelected) {
      onSelectionChange(orders.map(order => order.id));
    } else {
      onSelectionChange([]);
    }
  };

  const handleReturnSubmit = (orderId: string) => {
    if (!returnReason.trim()) {
      toast.error('è¯·è¾“å…¥é€€è´§åŸå› ');
      return;
    }
    
    onReturn(orderId, returnReason);
    setShowReturnModal(null);
    setReturnReason('');
  };

  const getStatusBadge = (status: RejectedOrderStatus) => {
    const statusConfig = {
      rejected: { color: 'red', text: 'ä¸åˆæ ¼' },
      reinspection: { color: 'yellow', text: 'é‡æ–°æ£€éªŒä¸­' },
      returned: { color: 'gray', text: 'å·²é€€è´§' },
      resolved: { color: 'green', text: 'å·²è§£å†³' }
    };

    const config = statusConfig[status] || statusConfig.rejected;
    
    return (
      <span className={`
        inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
        bg-${config.color}-100 text-${config.color}-800
      `}>
        {config.text}
      </span>
    );
  };

  const getSeverityBadge = (severity: RejectionSeverity) => {
    const severityConfig = {
      minor: { color: 'yellow', text: 'è½»å¾®', icon: 'âš ï¸' },
      major: { color: 'orange', text: 'ä¸¥é‡', icon: 'ğŸš«' },
      critical: { color: 'red', text: 'è‡´å‘½', icon: 'ğŸ’¥' }
    };

    const config = severityConfig[severity];
    
    return (
      <span className={`
        inline-flex items-center space-x-1 px-2 py-1 rounded text-xs font-medium
        bg-${config.color}-100 text-${config.color}-800
      `}>
        <span>{config.icon}</span>
        <span>{config.text}</span>
      </span>
    );
  };

  if (orders.length === 0) {
    return (
      <div className="text-center py-12">
        <CheckCircleIcon className="mx-auto h-12 w-12 text-green-400" />
        <h3 className="mt-2 text-sm font-medium text-gray-900">æš‚æ— ä¸åˆæ ¼è®¢å•</h3>
        <p className="mt-1 text-sm text-gray-500">
          æ‰€æœ‰è®¢å•è´¨é‡æ£€éªŒéƒ½å·²é€šè¿‡
        </p>
      </div>
    );
  }

  return (
    <>
      <div className="px-6 py-4 border-b border-gray-200">
        <div className="flex items-center justify-between">
          <div className="flex items-center">
            <input
              type="checkbox"
              className="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"
              checked={selectedOrders.length === orders.length && orders.length > 0}
              onChange={(e) => handleSelectAll(e.target.checked)}
            />
            <span className="ml-3 text-sm font-medium text-gray-900">
              å…¨é€‰
            </span>
          </div>
          <div className="text-sm text-gray-500">
            å…± {orders.length} ä¸ªä¸åˆæ ¼è®¢å•
          </div>
        </div>
      </div>

      <div className="divide-y divide-gray-200">
        {orders.map((order) => (
          <div key={order.id} className="px-6 py-4 hover:bg-gray-50">
            <div className="flex items-start space-x-4">
              <input
                type="checkbox"
                className="mt-1 h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"
                checked={selectedOrders.includes(order.id)}
                onChange={(e) => handleSelectOrder(order.id, e.target.checked)}
              />
              
              <div className="flex-1 min-w-0">
                {/* è®¢å•åŸºæœ¬ä¿¡æ¯ */}
                <div className="flex items-center justify-between">
                  <div className="flex items-center space-x-3">
                    <h4 className="text-sm font-medium text-gray-900">
                      {order.sku?.name || 'æœªçŸ¥äº§å“'}
                    </h4>
                    {getStatusBadge(order.status)}
                    {getSeverityBadge(order.severity)}
                  </div>
                  <div className="flex items-center space-x-4 text-sm text-gray-500">
                    <span>æ•°é‡ï¼š{order.rejectedQuantity}</span>
                    <span>{formatDate(order.rejectionDate)}</span>
                  </div>
                </div>

                {/* é‡‡è´­ç”³è¯·ä¿¡æ¯ */}
                <div className="mt-2 flex items-center space-x-4 text-sm text-gray-600">
                  <span>é‡‡è´­ç”³è¯·ï¼š{order.purchaseRequestNumber}</span>
                  <span>SKUï¼š{order.sku?.code}</span>
                  {order.supplier && (
                    <span>ä¾›åº”å•†ï¼š{order.supplier.name}</span>
                  )}
                </div>

                {/* ä¸åˆæ ¼åŸå›  */}
                <div className="mt-2">
                  <div className="text-sm text-gray-700">
                    <span className="font-medium text-red-600">ä¸åˆæ ¼åŸå› ï¼š</span>
                    {order.rejectionReason}
                  </div>
                  {order.inspectorRemarks && (
                    <div className="mt-1 text-sm text-gray-600">
                      <span className="font-medium">æ£€éªŒå‘˜å¤‡æ³¨ï¼š</span>
                      {order.inspectorRemarks}
                    </div>
                  )}
                </div>

                {/* å¤„ç†è®°å½• */}
                {(order.reinspectionDate || order.returnDate) && (
                  <div className="mt-3 p-3 bg-gray-50 rounded-md">
                    <h5 className="text-xs font-medium text-gray-700 uppercase tracking-wide">
                      å¤„ç†è®°å½•
                    </h5>
                    <div className="mt-2 space-y-1">
                      {order.reinspectionDate && (
                        <div className="text-sm text-gray-600">
                          é‡æ–°æ£€éªŒï¼š{formatDate(order.reinspectionDate)}
                        </div>
                      )}
                      {order.returnDate && (
                        <div className="text-sm text-gray-600">
                          é€€è´§å¤„ç†ï¼š{formatDate(order.returnDate)}
                          {order.returnReason && (
                            <span className="ml-2 text-gray-500">
                              åŸå› ï¼š{order.returnReason}
                            </span>
                          )}
                        </div>
                      )}
                    </div>
                  </div>
                )}

                {/* è´¨æ£€ç…§ç‰‡ */}
                {order.inspectionPhotos && order.inspectionPhotos.length > 0 && (
                  <div className="mt-3">
                    <h5 className="text-xs font-medium text-gray-700 uppercase tracking-wide mb-2">
                      è´¨æ£€ç…§ç‰‡
                    </h5>
                    <div className="flex space-x-2">
                      {order.inspectionPhotos.slice(0, 3).map((photo) => (
                        <img
                          key={photo.id}
                          src={photo.url}
                          alt={photo.description || 'è´¨æ£€ç…§ç‰‡'}
                          className="h-16 w-16 object-cover rounded border border-gray-200 cursor-pointer hover:opacity-75"
                          onClick={() => {/* æ‰“å¼€å›¾ç‰‡é¢„è§ˆ */}}
                        />
                      ))}
                      {order.inspectionPhotos.length > 3 && (
                        <div className="h-16 w-16 bg-gray-100 rounded border border-gray-200 flex items-center justify-center text-xs text-gray-500">
                          +{order.inspectionPhotos.length - 3}
                        </div>
                      )}
                    </div>
                  </div>
                )}
              </div>

              {/* æ“ä½œæŒ‰é’® */}
              <div className="flex flex-col space-y-2">
                {order.status === 'rejected' && (
                  <>
                    <button
                      onClick={() => onReinspection(order.id)}
                      className="inline-flex items-center px-3 py-2 border border-yellow-300 shadow-sm text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-50 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"
                    >
                      <RefreshIcon className="h-4 w-4 mr-1" />
                      é‡æ–°æ£€éªŒ
                    </button>
                    
                    <button
                      onClick={() => setShowReturnModal(order.id)}
                      className="inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"
                    >
                      <ReplyIcon className="h-4 w-4 mr-1" />
                      å®‰æ’é€€è´§
                    </button>
                  </>
                )}
                
                <button
                  onClick={() => {/* æŸ¥çœ‹è¯¦æƒ… */}}
                  className="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                >
                  æŸ¥çœ‹è¯¦æƒ…
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>

      {/* é€€è´§åŸå› è¾“å…¥æ¨¡æ€æ¡† */}
      {showReturnModal && (
        <div className="fixed inset-0 z-50 overflow-y-auto">
          <div className="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div className="fixed inset-0 transition-opacity" aria-hidden="true">
              <div className="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>

            <div className="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
              <div className="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div className="sm:flex sm:items-start">
                  <div className="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
                    <ReplyIcon className="h-6 w-6 text-red-600" />
                  </div>
                  <div className="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1">
                    <h3 className="text-lg leading-6 font-medium text-gray-900">
                      å®‰æ’é€€è´§
                    </h3>
                    <div className="mt-4">
                      <label htmlFor="return-reason" className="block text-sm font-medium text-gray-700">
                        é€€è´§åŸå›  <span className="text-red-500">*</span>
                      </label>
                      <textarea
                        id="return-reason"
                        rows={4}
                        value={returnReason}
                        onChange={(e) => setReturnReason(e.target.value)}
                        className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"
                        placeholder="è¯·è¯¦ç»†è¯´æ˜é€€è´§åŸå› ..."
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div className="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                <button
                  type="button"
                  onClick={() => handleReturnSubmit(showReturnModal)}
                  className="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"
                >
                  ç¡®è®¤é€€è´§
                </button>
                <button
                  type="button"
                  onClick={() => {
                    setShowReturnModal(null);
                    setReturnReason('');
                  }}
                  className="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"
                >
                  å–æ¶ˆ
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </>
  );
};
```

#### 1.2.3 ProgressList è¿›åº¦åˆ—è¡¨ç»„ä»¶
```typescript
// src/components/purchase-progress/ProgressList.tsx
interface ProgressListProps {
  data: ProcurementProgress[];
  activeTab: string;
  selectedOrders: string[];
  onSelectionChange: (selected: string[]) => void;
  onStatusUpdate: (id: string, status: OrderStatus) => void;
}

const ProgressList: React.FC<ProgressListProps> = ({
  data,
  activeTab,
  selectedOrders,
  onSelectionChange,
  onStatusUpdate
}) => {
  const [sortConfig, setSortConfig] = useState<SortConfig>({
    key: 'updatedAt',
    direction: 'desc'
  });

  // æ’åºæ•°æ®
  const sortedData = useMemo(() => {
    return [...data].sort((a, b) => {
      const aValue = getNestedValue(a, sortConfig.key);
      const bValue = getNestedValue(b, sortConfig.key);
      
      if (aValue < bValue) {
        return sortConfig.direction === 'asc' ? -1 : 1;
      }
      if (aValue > bValue) {
        return sortConfig.direction === 'asc' ? 1 : -1;
      }
      return 0;
    });
  }, [data, sortConfig]);

  const handleSort = (key: string) => {
    setSortConfig(prev => ({
      key,
      direction: prev.key === key && prev.direction === 'asc' ? 'desc' : 'asc'
    }));
  };

  const handleSelectOrder = (orderId: string, isSelected: boolean) => {
    if (isSelected) {
      onSelectionChange([...selectedOrders, orderId]);
    } else {
      onSelectionChange(selectedOrders.filter(id => id !== orderId));
    }
  };

  const handleSelectAll = (isSelected: boolean) => {
    if (isSelected) {
      onSelectionChange(sortedData.map(item => item.id));
    } else {
      onSelectionChange([]);
    }
  };

  const getProgressPercentage = (progress: ProcurementProgress): number => {
    const statusWeights = {
      'pending': 0,
      'approved': 20,
      'allocated': 40,
      'in_production': 60,
      'quality_check': 80,
      'ready_to_ship': 90,
      'shipped': 95,
      'completed': 100,
      'cancelled': 0,
      'rejected': 0
    };
    
    return statusWeights[progress.status] || 0;
  };

  const getStatusColor = (status: OrderStatus): string => {
    const colors = {
      'pending': 'yellow',
      'approved': 'blue',
      'allocated': 'purple',
      'in_production': 'indigo',
      'quality_check': 'orange',
      'ready_to_ship': 'teal',
      'shipped': 'cyan',
      'completed': 'green',
      'cancelled': 'gray',
      'rejected': 'red'
    };
    
    return colors[status] || 'gray';
  };

  if (sortedData.length === 0) {
    return (
      <div className="text-center py-12">
        <ClipboardListIcon className="mx-auto h-12 w-12 text-gray-400" />
        <h3 className="mt-2 text-sm font-medium text-gray-900">æš‚æ— æ•°æ®</h3>
        <p className="mt-1 text-sm text-gray-500">
          {activeTab === 'all' ? 'è¿˜æ²¡æœ‰é‡‡è´­è¿›åº¦è®°å½•' : 'å½“å‰ç­›é€‰æ¡ä»¶ä¸‹æ²¡æœ‰æ•°æ®'}
        </p>
      </div>
    );
  }

  return (
    <>
      {/* è¡¨æ ¼æ ‡é¢˜ */}
      <div className="px-6 py-4 border-b border-gray-200 bg-gray-50">
        <div className="flex items-center justify-between">
          <div className="flex items-center">
            <input
              type="checkbox"
              className="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
              checked={selectedOrders.length === sortedData.length && sortedData.length > 0}
              onChange={(e) => handleSelectAll(e.target.checked)}
            />
            <span className="ml-3 text-sm font-medium text-gray-900">å…¨é€‰</span>
          </div>
          <div className="text-sm text-gray-500">
            å…± {sortedData.length} æ¡è®°å½•
          </div>
        </div>
      </div>

      {/* è¡¨æ ¼å†…å®¹ */}
      <div className="divide-y divide-gray-200">
        {sortedData.map((progress) => (
          <div key={progress.id} className="px-6 py-4 hover:bg-gray-50">
            <div className="flex items-start space-x-4">
              <input
                type="checkbox"
                className="mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                checked={selectedOrders.includes(progress.id)}
                onChange={(e) => handleSelectOrder(progress.id, e.target.checked)}
              />
              
              <div className="flex-1 min-w-0">
                {/* é‡‡è´­ç”³è¯·åŸºæœ¬ä¿¡æ¯ */}
                <div className="flex items-center justify-between">
                  <div className="flex items-center space-x-3">
                    <h4 className="text-sm font-medium text-blue-600 hover:text-blue-900 cursor-pointer">
                      {progress.purchaseRequestNumber}
                    </h4>
                    <span className={`
                      inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                      bg-${getStatusColor(progress.status)}-100 text-${getStatusColor(progress.status)}-800
                    `}>
                      {getStatusText(progress.status)}
                    </span>
                  </div>
                  <div className="flex items-center space-x-4 text-sm text-gray-500">
                    <span>æ€»é‡‘é¢ï¼šÂ¥{progress.totalAmount?.toLocaleString()}</span>
                    <span>æ›´æ–°ï¼š{formatRelativeTime(progress.updatedAt)}</span>
                  </div>
                </div>

                {/* è¿›åº¦æ¡ */}
                <div className="mt-3">
                  <div className="flex items-center justify-between text-sm">
                    <span className="text-gray-600">è¿›åº¦</span>
                    <span className="font-medium">{getProgressPercentage(progress)}%</span>
                  </div>
                  <div className="mt-1 w-full bg-gray-200 rounded-full h-2">
                    <div
                      className={`h-2 rounded-full bg-${getStatusColor(progress.status)}-500`}
                      style={{ width: `${getProgressPercentage(progress)}%` }}
                    ></div>
                  </div>
                </div>

                {/* é¡¹ç›®åˆ—è¡¨é¢„è§ˆ */}
                {progress.items && progress.items.length > 0 && (
                  <div className="mt-3">
                    <div className="text-xs font-medium text-gray-700 uppercase tracking-wide mb-2">
                      åŒ…å«é¡¹ç›® ({progress.items.length})
                    </div>
                    <div className="space-y-2">
                      {progress.items.slice(0, 2).map((item, index) => (
                        <div key={index} className="flex items-center justify-between bg-gray-50 rounded px-3 py-2">
                          <div className="flex items-center space-x-3">
                            <span className="text-sm font-medium text-gray-900">
                              {item.sku?.name || 'æœªçŸ¥äº§å“'}
                            </span>
                            <span className="text-xs text-gray-500">
                              {item.sku?.code}
                            </span>
                          </div>
                          <div className="text-sm text-gray-600">
                            æ•°é‡ï¼š{item.quantity} | å•ä»·ï¼šÂ¥{item.unitPrice?.toLocaleString()}
                          </div>
                        </div>
                      ))}
                      {progress.items.length > 2 && (
                        <div className="text-center py-2">
                          <button className="text-xs text-blue-600 hover:text-blue-900">
                            æŸ¥çœ‹å…¨éƒ¨ {progress.items.length} ä¸ªé¡¹ç›®
                          </button>
                        </div>
                      )}
                    </div>
                  </div>
                )}

                {/* ä¾›åº”å•†å’Œäº¤æœŸä¿¡æ¯ */}
                <div className="mt-3 grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm">
                  {progress.supplier && (
                    <div>
                      <span className="font-medium text-gray-700">ä¾›åº”å•†ï¼š</span>
                      <span className="text-gray-600">{progress.supplier.name}</span>
                    </div>
                  )}
                  {progress.expectedDeliveryDate && (
                    <div>
                      <span className="font-medium text-gray-700">é¢„è®¡äº¤æœŸï¼š</span>
                      <span className="text-gray-600">{formatDate(progress.expectedDeliveryDate)}</span>
                    </div>
                  )}
                  {progress.actualDeliveryDate && (
                    <div>
                      <span className="font-medium text-gray-700">å®é™…äº¤æœŸï¼š</span>
                      <span className="text-gray-600">{formatDate(progress.actualDeliveryDate)}</span>
                    </div>
                  )}
                </div>

                {/* é‡è¦å¤‡æ³¨ */}
                {progress.remarks && (
                  <div className="mt-3 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-r">
                    <div className="text-sm">
                      <span className="font-medium text-yellow-800">å¤‡æ³¨ï¼š</span>
                      <span className="text-yellow-700 ml-1">{progress.remarks}</span>
                    </div>
                  </div>
                )}
              </div>

              {/* æ“ä½œæŒ‰é’® */}
              <div className="flex flex-col space-y-2">
                <button
                  onClick={() => {/* æŸ¥çœ‹è¯¦æƒ… */}}
                  className="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                >
                  æŸ¥çœ‹è¯¦æƒ…
                </button>
                
                {progress.status === 'allocated' && (
                  <button
                    onClick={() => onStatusUpdate(progress.id, 'in_production')}
                    className="inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                  >
                    å¼€å§‹ç”Ÿäº§
                  </button>
                )}
                
                {progress.status === 'in_production' && (
                  <button
                    onClick={() => onStatusUpdate(progress.id, 'quality_check')}
                    className="inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500"
                  >
                    è´¨æ£€éªŒæ”¶
                  </button>
                )}
              </div>
            </div>
          </div>
        ))}
      </div>
    </>
  );
};

// è¾…åŠ©å‡½æ•°
const getStatusText = (status: OrderStatus): string => {
  const statusTexts = {
    'pending': 'å¾…å¤„ç†',
    'approved': 'å·²æ‰¹å‡†',
    'allocated': 'å·²åˆ†é…',
    'in_production': 'ç”Ÿäº§ä¸­',
    'quality_check': 'è´¨æ£€ä¸­',
    'ready_to_ship': 'å¾…å‘è´§',
    'shipped': 'å·²å‘è´§',
    'completed': 'å·²å®Œæˆ',
    'cancelled': 'å·²å–æ¶ˆ',
    'rejected': 'å·²æ‹’ç»'
  };
  
  return statusTexts[status] || 'æœªçŸ¥çŠ¶æ€';
};

const getNestedValue = (obj: any, path: string): any => {
  return path.split('.').reduce((current, key) => current?.[key], obj);
};
```

---

## ğŸ“‹ 2. çº¸å¡è¿›åº¦ç®¡ç† (`card-progress/`)

### 2.1 æ¨¡å—æ¦‚è¿°
çº¸å¡è¿›åº¦ç®¡ç†è´Ÿè´£è·Ÿè¸ªäº§å“çº¸å¡çš„è®¾è®¡ã€å®¡æ ¸ã€ç”Ÿäº§ç­‰å„ä¸ªç¯èŠ‚çš„è¿›åº¦ã€‚

### 2.2 ç»„ä»¶æ¶æ„

#### 2.2.1 CardProgress ä¸»ç»„ä»¶
```typescript
// src/components/card-progress/CardProgress.tsx
interface CardProgressProps {
  filters?: CardProgressFilters;
}

interface CardProgressFilters {
  status?: CardStatus[];
  designer?: string;
  cardType?: CardType[];
  dateRange?: DateRange;
  searchTerm?: string;
}

const CardProgress: React.FC<CardProgressProps> = ({ filters }) => {
  const [progressData, setProgressData] = useState<CardProgress[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [selectedCards, setSelectedCards] = useState<string[]>([]);
  const [showDesignModal, setShowDesignModal] = useState<string | null>(null);

  // å…¨å±€çŠ¶æ€
  const globalCardProgress = useCardProgress();
  const { updateCardProgress, addCardProgress } = useGlobalStore();

  useEffect(() => {
    setProgressData(globalCardProgress);
    setIsLoading(false);
  }, [globalCardProgress]);

  // ç­›é€‰æ•°æ®
  const filteredData = useMemo(() => {
    let filtered = [...progressData];

    if (filters) {
      if (filters.status && filters.status.length > 0) {
        filtered = filtered.filter(card => filters.status!.includes(card.status));
      }

      if (filters.designer) {
        filtered = filtered.filter(card => card.designerId === filters.designer);
      }

      if (filters.cardType && filters.cardType.length > 0) {
        filtered = filtered.filter(card => filters.cardType!.includes(card.cardType));
      }

      if (filters.searchTerm) {
        const searchLower = filters.searchTerm.toLowerCase();
        filtered = filtered.filter(card =>
          card.purchaseRequestNumber.toLowerCase().includes(searchLower) ||
          card.skuName.toLowerCase().includes(searchLower)
        );
      }
    }

    return filtered;
  }, [progressData, filters]);

  // åˆ†é…è®¾è®¡å¸ˆ
  const handleAssignDesigner = async (cardId: string, designerId: string) => {
    try {
      updateCardProgress(cardId, {
        designerId,
        status: 'designing',
        assignedAt: new Date(),
        updatedAt: new Date()
      });
      
      toast.success('è®¾è®¡å¸ˆåˆ†é…æˆåŠŸ');
    } catch (error) {
      console.error('Failed to assign designer:', error);
      toast.error('åˆ†é…è®¾è®¡å¸ˆå¤±è´¥');
    }
  };

  // æ›´æ–°è®¾è®¡çŠ¶æ€
  const handleStatusUpdate = async (cardId: string, newStatus: CardStatus, remarks?: string) => {
    try {
      const updates: Partial<CardProgress> = {
        status: newStatus,
        updatedAt: new Date()
      };

      // æ ¹æ®çŠ¶æ€æ·»åŠ ç›¸åº”çš„æ—¶é—´æˆ³
      if (newStatus === 'designing') {
        updates.designStartDate = new Date();
      } else if (newStatus === 'review') {
        updates.designCompletedDate = new Date();
      } else if (newStatus === 'approved') {
        updates.approvedDate = new Date();
      } else if (newStatus === 'production') {
        updates.productionStartDate = new Date();
      } else if (newStatus === 'completed') {
        updates.completedDate = new Date();
      }

      if (remarks) {
        updates.remarks = remarks;
      }

      updateCardProgress(cardId, updates);
      
      toast.success('çŠ¶æ€æ›´æ–°æˆåŠŸ');
    } catch (error) {
      console.error('Failed to update status:', error);
      toast.error('çŠ¶æ€æ›´æ–°å¤±è´¥');
    }
  };

  const getStatusBadge = (status: CardStatus) => {
    const statusConfig = {
      pending: { color: 'gray', text: 'å¾…åˆ†é…' },
      designing: { color: 'blue', text: 'è®¾è®¡ä¸­' },
      review: { color: 'yellow', text: 'å¾…å®¡æ ¸' },
      approved: { color: 'green', text: 'å·²æ‰¹å‡†' },
      production: { color: 'purple', text: 'ç”Ÿäº§ä¸­' },
      completed: { color: 'emerald', text: 'å·²å®Œæˆ' }
    };

    const config = statusConfig[status] || statusConfig.pending;
    
    return (
      <span className={`
        inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
        bg-${config.color}-100 text-${config.color}-800
      `}>
        {config.text}
      </span>
    );
  };

  const getCardTypeBadge = (cardType: CardType) => {
    const typeConfig = {
      finished: { color: 'blue', text: 'çº¸å¡æˆå“', icon: 'ğŸ·ï¸' },
      design: { color: 'purple', text: 'è®¾è®¡ç¨¿', icon: 'ğŸ¨' },
      none: { color: 'gray', text: 'ä¸éœ€è¦', icon: 'âŒ' },
      custom: { color: 'yellow', text: 'å®šåˆ¶', icon: 'âœ¨' }
    };

    const config = typeConfig[cardType];
    
    return (
      <span className={`
        inline-flex items-center space-x-1 px-2 py-1 rounded text-xs font-medium
        bg-${config.color}-100 text-${config.color}-800
      `}>
        <span>{config.icon}</span>
        <span>{config.text}</span>
      </span>
    );
  };

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gray-50 flex items-center justify-center">
        <div className="animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      {/* é¡µé¢æ ‡é¢˜ */}
      <div className="bg-white shadow">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="py-6">
            <div className="flex items-center justify-between">
              <div>
                <h1 className="text-3xl font-bold text-gray-900">çº¸å¡è¿›åº¦ç®¡ç†</h1>
                <p className="mt-1 text-sm text-gray-500">
                  ç®¡ç†äº§å“çº¸å¡çš„è®¾è®¡ã€å®¡æ ¸å’Œç”Ÿäº§è¿›åº¦
                </p>
              </div>
              
              <div className="flex items-center space-x-4">
                <CardProgressStats data={filteredData} />
                
                <button
                  onClick={() => {/* æ‰¹é‡åˆ†é…è®¾è®¡å¸ˆ */}}
                  disabled={selectedCards.length === 0}
                  className="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"
                >
                  <UserAddIcon className="h-4 w-4 mr-2" />
                  æ‰¹é‡åˆ†é…è®¾è®¡å¸ˆ
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* ç­›é€‰å™¨ */}
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
        <CardProgressFilters 
          filters={filters}
          onFiltersChange={(newFilters) => {/* æ›´æ–°ç­›é€‰æ¡ä»¶ */}}
        />
      </div>

      {/* ä¸»è¦å†…å®¹ */}
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8">
        <div className="bg-white shadow rounded-lg">
          {/* æ‰¹é‡æ“ä½œæ  */}
          {selectedCards.length > 0 && (
            <div className="bg-blue-50 px-4 py-3 border-b border-blue-200">
              <div className="flex items-center justify-between">
                <span className="text-sm font-medium text-blue-900">
                  å·²é€‰æ‹© {selectedCards.length} ä¸ªçº¸å¡ä»»åŠ¡
                </span>
                <div className="flex items-center space-x-2">
                  <select
                    onChange={(e) => {
                      if (e.target.value) {
                        selectedCards.forEach(cardId => {
                          handleStatusUpdate(cardId, e.target.value as CardStatus);
                        });
                        setSelectedCards([]);
                      }
                    }}
                    className="block w-40 px-3 py-2 border border-blue-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                    defaultValue=""
                  >
                    <option value="" disabled>æ‰¹é‡æ“ä½œ</option>
                    <option value="designing">å¼€å§‹è®¾è®¡</option>
                    <option value="review">æäº¤å®¡æ ¸</option>
                    <option value="approved">å®¡æ ¸é€šè¿‡</option>
                    <option value="production">å¼€å§‹ç”Ÿäº§</option>
                  </select>
                  <button
                    onClick={() => setSelectedCards([])}
                    className="inline-flex items-center px-3 py-2 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50"
                  >
                    å–æ¶ˆé€‰æ‹©
                  </button>
                </div>
              </div>
            </div>
          )}

          {/* çº¸å¡åˆ—è¡¨ */}
          <CardProgressList
            data={filteredData}
            selectedCards={selectedCards}
            onSelectionChange={setSelectedCards}
            onAssignDesigner={handleAssignDesigner}
            onStatusUpdate={handleStatusUpdate}
            onShowDesignModal={setShowDesignModal}
          />
        </div>
      </div>

      {/* è®¾è®¡è¯¦æƒ…æ¨¡æ€æ¡† */}
      {showDesignModal && (
        <CardDesignModal
          cardId={showDesignModal}
          onClose={() => setShowDesignModal(null)}
          onStatusUpdate={handleStatusUpdate}
        />
      )}
    </div>
  );
};

export default CardProgress;
```

---

**ç¬¬ä¸‰æ‰¹æ–‡æ¡£å·²å®Œæˆï¼**

ç°åœ¨è®©æˆ‘ç»§ç»­ç¼–å†™ç¬¬å››æ‰¹ï¼šç”Ÿäº§ä¸ä»“å‚¨ç³»ç»Ÿã€‚ç»§ç»­ç¬¬å››æ‰¹ï¼Ÿ
